<!DOCTYPE html>
<html lang="en-US" class="no-js">

<!-- Mirrored from thinkcitypdx.com/blog/?p=415 by HTTrack Website Copier/3.x [XR&CO'2013], Sat, 11 Aug 2018 20:51:25 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width">
	<link rel="profile" href="http://gmpg.org/xfn/11">
	<link rel="pingback" href="xmlrpc.php">
	<!--[if lt IE 9]>
	<script src="http://thinkcitypdx.com/blog/wp-content/themes/twentyfifteen/js/html5.js"></script>
	<![endif]-->
	<script>(function(html){html.className = html.className.replace(/\bno-js\b/,'js')})(document.documentElement);</script>
<title>Using CommTool &#8211; Blog City PDX</title>
<link rel='dns-prefetch' href='http://fonts.googleapis.com/' />
<link rel='dns-prefetch' href='http://s.w.org/' />
<link rel="alternate" type="application/rss+xml" title="Blog City PDX &raquo; Feed" href="indexd784.html?feed=rss2" />
<link rel="alternate" type="application/rss+xml" title="Blog City PDX &raquo; Comments Feed" href="indexa6da.html?feed=comments-rss2" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/thinkcitypdx.com\/blog\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.6.12"}};
			!function(a,b,c){function d(a){var c,d,e,f,g,h=b.createElement("canvas"),i=h.getContext&&h.getContext("2d"),j=String.fromCharCode;if(!i||!i.fillText)return!1;switch(i.textBaseline="top",i.font="600 32px Arial",a){case"flag":return i.fillText(j(55356,56806,55356,56826),0,0),!(h.toDataURL().length<3e3)&&(i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,65039,8205,55356,57096),0,0),c=h.toDataURL(),i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,55356,57096),0,0),d=h.toDataURL(),c!==d);case"diversity":return i.fillText(j(55356,57221),0,0),e=i.getImageData(16,16,1,1).data,f=e[0]+","+e[1]+","+e[2]+","+e[3],i.fillText(j(55356,57221,55356,57343),0,0),e=i.getImageData(16,16,1,1).data,g=e[0]+","+e[1]+","+e[2]+","+e[3],f!==g;case"simple":return i.fillText(j(55357,56835),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode8":return i.fillText(j(55356,57135),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode9":return i.fillText(j(55358,56631),0,0),0!==i.getImageData(16,16,1,1).data[0]}return!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i;for(i=Array("simple","flag","unicode8","diversity","unicode9"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='twentyfifteen-fonts-css'  href='https://fonts.googleapis.com/css?family=Noto+Sans%3A400italic%2C700italic%2C400%2C700%7CNoto+Serif%3A400italic%2C700italic%2C400%2C700%7CInconsolata%3A400%2C700&amp;subset=latin%2Clatin-ext' type='text/css' media='all' />
<link rel='stylesheet' id='genericons-css'  href='wp-content/themes/twentyfifteen/genericons/genericonscf1b.css?ver=3.2' type='text/css' media='all' />
<link rel='stylesheet' id='twentyfifteen-style-css'  href='wp-content/themes/twentyfifteen/stylec1dd.css?ver=4.6.12' type='text/css' media='all' />
<style id='twentyfifteen-style-inline-css' type='text/css'>

		/* Custom Header Background Color */
		body:before,
		.site-header {
			background-color: #002d2e;
		}

		@media screen and (min-width: 59.6875em) {
			.site-header,
			.secondary {
				background-color: transparent;
			}

			.widget button,
			.widget input[type="button"],
			.widget input[type="reset"],
			.widget input[type="submit"],
			.widget_calendar tbody a,
			.widget_calendar tbody a:hover,
			.widget_calendar tbody a:focus {
				color: #002d2e;
			}
		}
	

		/* Custom Sidebar Text Color */
		.site-title a,
		.site-description,
		.secondary-toggle:before {
			color: #ffffff;
		}

		.site-title a:hover,
		.site-title a:focus {
			color: #ffffff; /* Fallback for IE7 and IE8 */
			color: rgba( 255, 255, 255, 0.7);
		}

		.secondary-toggle {
			border-color: #ffffff; /* Fallback for IE7 and IE8 */
			border-color: rgba( 255, 255, 255, 0.1);
		}

		.secondary-toggle:hover,
		.secondary-toggle:focus {
			border-color: #ffffff; /* Fallback for IE7 and IE8 */
			border-color: rgba( 255, 255, 255, 0.3);
		}

		.site-title a {
			outline-color: #ffffff; /* Fallback for IE7 and IE8 */
			outline-color: rgba( 255, 255, 255, 0.3);
		}

		@media screen and (min-width: 59.6875em) {
			.secondary a,
			.dropdown-toggle:after,
			.widget-title,
			.widget blockquote cite,
			.widget blockquote small {
				color: #ffffff;
			}

			.widget button,
			.widget input[type="button"],
			.widget input[type="reset"],
			.widget input[type="submit"],
			.widget_calendar tbody a {
				background-color: #ffffff;
			}

			.textwidget a {
				border-color: #ffffff;
			}

			.secondary a:hover,
			.secondary a:focus,
			.main-navigation .menu-item-description,
			.widget,
			.widget blockquote,
			.widget .wp-caption-text,
			.widget .gallery-caption {
				color: rgba( 255, 255, 255, 0.7);
			}

			.widget button:hover,
			.widget button:focus,
			.widget input[type="button"]:hover,
			.widget input[type="button"]:focus,
			.widget input[type="reset"]:hover,
			.widget input[type="reset"]:focus,
			.widget input[type="submit"]:hover,
			.widget input[type="submit"]:focus,
			.widget_calendar tbody a:hover,
			.widget_calendar tbody a:focus {
				background-color: rgba( 255, 255, 255, 0.7);
			}

			.widget blockquote {
				border-color: rgba( 255, 255, 255, 0.7);
			}

			.main-navigation ul,
			.main-navigation li,
			.secondary-toggle,
			.widget input,
			.widget textarea,
			.widget table,
			.widget th,
			.widget td,
			.widget pre,
			.widget li,
			.widget_categories .children,
			.widget_nav_menu .sub-menu,
			.widget_pages .children,
			.widget abbr[title] {
				border-color: rgba( 255, 255, 255, 0.1);
			}

			.dropdown-toggle:hover,
			.dropdown-toggle:focus,
			.widget hr {
				background-color: rgba( 255, 255, 255, 0.1);
			}

			.widget input:focus,
			.widget textarea:focus {
				border-color: rgba( 255, 255, 255, 0.3);
			}

			.sidebar a:focus,
			.dropdown-toggle:focus {
				outline-color: rgba( 255, 255, 255, 0.3);
			}
		}
	
</style>
<!--[if lt IE 9]>
<link rel='stylesheet' id='twentyfifteen-ie-css'  href='http://thinkcitypdx.com/blog/wp-content/themes/twentyfifteen/css/ie.css?ver=20141010' type='text/css' media='all' />
<![endif]-->
<!--[if lt IE 8]>
<link rel='stylesheet' id='twentyfifteen-ie7-css'  href='http://thinkcitypdx.com/blog/wp-content/themes/twentyfifteen/css/ie7.css?ver=20141010' type='text/css' media='all' />
<![endif]-->
<script type='text/javascript' src='wp-includes/js/jquery/jqueryb8ff.js?ver=1.12.4'></script>
<script type='text/javascript' src='wp-includes/js/jquery/jquery-migrate.min330a.js?ver=1.4.1'></script>
<link rel='https://api.w.org/' href='index52f0.html?rest_route=/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="xmlrpc0db0.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Updating PCU firmware' href='index18ee.html?p=365' />
<link rel='next' title='+STEAM for TH!INK' href='index9d87.html?p=422' />
<meta name="generator" content="WordPress 4.6.12" />
<link rel="canonical" href="indexd519.html?p=415" />
<link rel='shortlink' href='indexd519.html?p=415' />
<link rel="alternate" type="application/json+oembed" href="indexc429.html?rest_route=%2Foembed%2F1.0%2Fembed&amp;url=http%3A%2F%2Fthinkcitypdx.com%2Fblog%2F%3Fp%3D415" />
<link rel="alternate" type="text/xml+oembed" href="indexe92a.html?rest_route=%2Foembed%2F1.0%2Fembed&amp;url=http%3A%2F%2Fthinkcitypdx.com%2Fblog%2F%3Fp%3D415&amp;format=xml" />
<style type="text/css" id="custom-background-css">
body.custom-background { background-color: #fec8a1; }
</style>
</head>

<body class="single single-post postid-415 single-format-standard custom-background">
<div id="page" class="hfeed site">
	<a class="skip-link screen-reader-text" href="#content">Skip to content</a>

	<div id="sidebar" class="sidebar">
		<header id="masthead" class="site-header" role="banner">
			<div class="site-branding">
										<p class="site-title"><a href="index.html" rel="home">Blog City PDX</a></p>
											<p class="site-description">An unofficial resource for owners of Think City electric vehicles in the Pacific Northwest and around the world.</p>
									<button class="secondary-toggle">Menu and widgets</button>
			</div><!-- .site-branding -->
		</header><!-- .site-header -->

			<div id="secondary" class="secondary">

					<nav id="site-navigation" class="main-navigation" role="navigation">
				<div class="menu-pages-container"><ul id="menu-pages" class="nav-menu"><li id="menu-item-48" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-48"><a href="index.html">Welcome</a></li>
<li id="menu-item-49" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-49"><a href="indexd079.html?page_id=45">About</a></li>
<li id="menu-item-99" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-99"><a href="index1956.html?page_id=98">Penny for your Think? (Thinks for Sale)</a></li>
<li id="menu-item-420" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-420"><a href="index1597.html?page_id=419">+STEAM</a></li>
</ul></div>			</nav><!-- .main-navigation -->
		
		
					<div id="widget-area" class="widget-area" role="complementary">
				<aside id="categories-2" class="widget widget_categories"><h2 class="widget-title">Categories</h2>		<ul>
	<li class="cat-item cat-item-8"><a href="indexd65e.html?cat=8" >+STEAM</a> (4)
</li>
	<li class="cat-item cat-item-6"><a href="indexb0b7.html?cat=6" >Curiosities</a> (3)
</li>
	<li class="cat-item cat-item-4"><a href="indexaa1e.html?cat=4" >Prius</a> (6)
</li>
	<li class="cat-item cat-item-2"><a href="index3f7b.html?cat=2" title="Think City EV">Think</a> (47)
<ul class='children'>
	<li class="cat-item cat-item-7"><a href="indexc728.html?cat=7" >For Technicians</a> (14)
</li>
</ul>
</li>
		</ul>
</aside><aside id="search-2" class="widget widget_search"><form role="search" method="get" class="search-form" action="http://thinkcitypdx.com/blog/">
				<label>
					<span class="screen-reader-text">Search for:</span>
					<input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s" />
				</label>
				<input type="submit" class="search-submit screen-reader-text" value="Search" />
			</form></aside>			</div><!-- .widget-area -->
		
	</div><!-- .secondary -->

	</div><!-- .sidebar -->

	<div id="content" class="site-content">

	<div id="primary" class="content-area">
		<main id="main" class="site-main" role="main">

		
<article id="post-415" class="post-415 post type-post status-publish format-standard hentry category-for-technicians category-think">
	
	<header class="entry-header">
		<h1 class="entry-title">Using CommTool</h1>	</header><!-- .entry-header -->

	<div class="entry-content">
		<p>CommTool is Enerdel&#8217;s proprietary software for communicating with the traction battery.</p>
<p>Think&#8217;s TechCentre diagnostic software will retrieve diagnostic trouble codes and display them in a format that is much easier to interpret than CommTool. However, TechCentre&#8217;s interface will tell you that you can clear those battery DTCs; then it will tell you that the codes cleared but that they already reset, but that&#8217;s a <em>big fat lie!</em></p>
<p>And that is the Number One reason that CommTool is essential for Think Technicians: Some DTCs that are set by the battery are stored in non-voltile memory (which means they can&#8217;t be cleared just by disconnecting the 12V battery) and will inhibit any further battery operation until they are cleared.<br />
<span id="more-415"></span></p>
<p>The Number Two reason that CommTool is essential is all of the data that is available.  Sometimes it&#8217;s just neat to know exactly how many miliVolts every battery cell is charged to, but where it is really important is finding an RLEC that has failed.  For example, we have seen a few RLECs that indicate that their circuit board temperature is way too cold to operate (which is obviously untrue).  You have to look at the temperature values for all of the RLECs to determine which one is malfunctioning and needs to be replaced.</p>
<p>There is a TON of data that CommTool can get for you.  Too much, really, for most everyday purposes.  So instead of simply getting every bit of data every time you use CommTool to connect to the battery, you can simply select the data that you want.  You specify exactly what data you want using a Master Sequence File (.msf).  There are a bunch of MSF files that are included with the installation package for CommTool.  All you have to do is select an MSF, by clicking on the &#8220;Select Master Sequence File&#8221; button and browsing to the folder where they are all saved.  There are only 3 that I ever use: Analog.msf (which I use almost all the time), Analog_1_8.msf and Analog_9_16.msf (which I use if I&#8217;m looking for specific data about a specific cell or RLEC like in the example above).</p>
<p>When you initially install CommTool on a computer you need to adjust some of the settings.  Upon subsequent restarts of the program the setting will remain how you need them. I&#8217;ll list the settings as they should be configured starting on the left and moving down and across. If there is a setting that I neglect to mention, I believe it to be inconsequential.</p>
<p>Com Port: COM1<br />
Baud Rate: 38400<br />
Using Conv Box: Checked<br />
Sec 13: Unchecked</p>
<p>[Click on the &#8220;Select Master Sequence File&#8221; button to browse to the location of your .msf&#8217;s, select one, and the field below the button will automatically populate with the path and filename.]</p>
<p>Use CAN: Checked<br />
Rcv Range: 61E and 61F<br />
CAN Kbaud: 500<br />
Device Select: PCAN, USB</p>
<p>One last note for this very brief overview: When you click the green &#8220;Get Data&#8221; button several narrow windows will appear (or refresh if you have already gotten data once) below the configuration settings.  (The number of windows depends on which MSF you have selected.) If the windows are gray with only the parameter names on the left and only &#8216;~&#8217; on the right, it means that you&#8217;re not receiving any data. When CommTool is communicating with the battery correctly the background of the windows will be white and the &#8216;~&#8217;s will be replaced by numeric values.</p>
<p>If you let CommTool sit for awhile without doing anything, the first time you click &#8220;Get Data&#8221; may turn up several gray windows before it starts getting data.  I imagine the issue is something like the CAN bus going to sleep and taking awhile to wake up.  Just click &#8220;Get Data&#8221; again and you should get a complete set of data.</p>
<p>The other important button is &#8220;Clear All Malf Codes&#8221;.  Click it and if there is a battery DTC that is preventing the car from starting you may hear the contactors close or attempt to close.  You will see a message like, &#8220;Security Passed&#8221; or &#8220;Security already passed&#8221; (if you have already clicked &#8220;Get Data&#8221;).  You can verify that all codes have cleared by clicking &#8220;Get Data&#8221; and checking that the values in the Diagnostics window are all zeroes (assuming you are using Analog.msf).  Just like with getting data, if you let CommTool idle for too long and then go to clear malfunction codes, it might not be awake for your request, but if you try again after a few seconds it probably will be.</p>
<p>Speaking of the Diagnostics window, the various parameters (e.g. Mstr_Malf_Codes1) can be translated from hexidecimal to determine which codes are indicated; each bit set to 1 corresponds to a DTC.  But it is usually faster and definitely more reliable to switch back to Think TechCentre (and the VIM rather than the PCAN adapter) and read the code descriptions directly. (There may, however, be a reliability issue with TechCentre DTC descriptions when it comes to identifying Contactor A/B and/or fuse A/B correctly. I once replaced a current sensor only to find that it was the other current sensor that was causing the fault.)</p>
<p>Please let me know if you have any questions!</p>
	</div><!-- .entry-content -->

	
	<footer class="entry-footer">
		<span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="indexd519.html?p=415" rel="bookmark"><time class="entry-date published" datetime="2015-10-16T12:26:32+00:00">October 16, 2015</time><time class="updated" datetime="2016-07-05T00:11:47+00:00">July 5, 2016</time></a></span><span class="byline"><span class="author vcard"><span class="screen-reader-text">Author </span><a class="url fn n" href="indexcd64.html?author=1">mayerjm@comcast.net</a></span></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="indexc728.html?cat=7" rel="category">For Technicians</a>, <a href="index3f7b.html?cat=2" rel="category">Think</a></span>			</footer><!-- .entry-footer -->

</article><!-- #post-## -->

	<nav class="navigation post-navigation" role="navigation">
		<h2 class="screen-reader-text">Post navigation</h2>
		<div class="nav-links"><div class="nav-previous"><a href="index18ee.html?p=365" rel="prev"><span class="meta-nav" aria-hidden="true">Previous</span> <span class="screen-reader-text">Previous post:</span> <span class="post-title">Updating PCU firmware</span></a></div><div class="nav-next"><a href="index9d87.html?p=422" rel="next"><span class="meta-nav" aria-hidden="true">Next</span> <span class="screen-reader-text">Next post:</span> <span class="post-title">+STEAM for TH!INK</span></a></div></div>
	</nav>
		</main><!-- .site-main -->
	</div><!-- .content-area -->


	</div><!-- .site-content -->

	<footer id="colophon" class="site-footer" role="contentinfo">
		<div class="site-info">
						<a href="https://wordpress.org/">Proudly powered by WordPress</a>
		</div><!-- .site-info -->
	</footer><!-- .site-footer -->

</div><!-- .site -->

<script type='text/javascript' src='wp-content/themes/twentyfifteen/js/skip-link-focus-fixd01e.js?ver=20141010'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var screenReaderText = {"expand":"<span class=\"screen-reader-text\">expand child menu<\/span>","collapse":"<span class=\"screen-reader-text\">collapse child menu<\/span>"};
/* ]]> */
</script>
<script type='text/javascript' src='wp-content/themes/twentyfifteen/js/functions8337.js?ver=20150330'></script>
<script type='text/javascript' src='wp-includes/js/wp-embed.minc1dd.js?ver=4.6.12'></script>

</body>

<!-- Mirrored from thinkcitypdx.com/blog/?p=415 by HTTrack Website Copier/3.x [XR&CO'2013], Sat, 11 Aug 2018 20:51:25 GMT -->
</html>
